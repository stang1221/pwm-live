<!-- templates/password_handler/password.html -->

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Password Generator</title>

    <!-- Optional Custom CSS -->
    <style>
      .password-container {
        margin-top: 5rem;
        padding: 2rem;
        background-color: #ffc107; /* Bootstrap warning background color */
        border-radius: 10px;
        color: white;
      }
      .bg-success {
        color: white;
        padding: 10px;
        border-radius: 5px;
      }
      .btn-copy {
        margin-left: 10px;
      }
    </style>
  </head>

  <body>
    <div class="container text-center password-container">
      <h1>Generated Password</h1>
      <h2>The password is</h2>
      <h1 class="bg-success" id="generated-password">{{ password }}</h1>
      
      <!-- Copy Button -->
      <button class="btn btn-primary btn-copy" onclick="copyPassword()">Copy</button>
      
      <!-- Back Button -->
      <a href="{% url 'generate_password' %}" class="btn btn-secondary">Back</a>
    </div>

    <!-- JavaScript for Copying Password to Clipboard -->
    <script>
      function copyPassword() {
        // Get the password text from the element
        var passwordText = document.getElementById('generated-password').innerText;

        // Create a temporary textarea element to copy the password
        var tempInput = document.createElement("textarea");
        tempInput.value = passwordText;
        document.body.appendChild(tempInput);
        tempInput.select();
        document.execCommand("copy");
        document.body.removeChild(tempInput);

        // Alert the user that the password has been copied
        alert("Password copied to clipboard!");
      }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-tcl6N+v7/65p6CNV95DpX08fHXSaZ5sSuw7ZKSePa+zPCkK2DfsFtbMkYqAK8Qj5" crossorigin="anonymous"></script>
  </body>
</html>
